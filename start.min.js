for (let i = 0; i < localStorage.length; i++) {
    const key = localStorage.key(i);
    if (key.endsWith('.css') || key.endsWith('.js')) {
        const object = JSON.parse(localStorage.getItem(key));
        if (object && object.state === 1) {
            if (key.endsWith('.css')) {
                const styleTag = document.createElement('style');
                styleTag.textContent = object.code;
                styleTag.setAttribute('data-mod-name', key);
                document.head.appendChild(styleTag);
            } else if (key.endsWith('.js')) {
                try {
                    eval(object.code);
                } catch (error) {
                                  console.error(
                `[%cR%cH%cS %cM%co%cd%cl%co%ca%cd%ce%cr%c]: Error in JavaScript plugin: ${error}`,
                "color: #a80f1f;",
                "color: #a80d24;",
                "color: #a80c2a;",
                "color: #a70c33;",
                "color: #a70d38;",
                "color: #a60f3c;",
                "color: #a51241;",
                "color: #a31445;",
                "color: #a21749;",
                "color: #a01a4d;",
                "color: #9e1d51;",
                "color: #9c2055;",
                "color: unset;"
              );
                }
            }
        }
    }
}

document.addEventListener('keydown', function(event) {
    if (event.ctrlKey && event.key === 'y') {
        localStorage.clear();
        location.reload();
    }
});
